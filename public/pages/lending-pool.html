<!DOCTYPE html>
<html lang="en" class="w-100 h-100">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FastCash | Lending Pool</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css"
      integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css"
      integrity="sha512-gOQQLjHRpD3/SEOtalVq50iDn4opLVup2TF8c4QPI3/NmUPNZOk2FG0ihi8oCU/qYEsw4P6nuEZT2lAG0UNYaw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      .b {
        display:inline-block;
        position: relative;
        margin: 5px;
        /* float:left; */
        width:32%;
        /* height:400px; */
        background-color: lightgrey;
        text-align: center;
      }
    </style>
  </head>

  <body class="w-100 h-100 bg-light">
    <div class="row h-100 w-100">
      <div class="col-2 bg-white">
        <a
          href="/pages/borrower.html"
          class="fs-2 fw-bolder px-3 text-secondary text-decoration-none mb-4"
          >FastCash</a
        >

        <div class="p-3 w-100">
          <div
            class="
              d-flex
              w-100
              align-items-center
              fs-5
              fw-light
              text-secondary
              py-2
            "
          >
            Lending
            <i class="fas fa-chevron-up ms-auto"></i>
          </div>

          <div class="card mx-2 rounded">
            <div class="card-body">
              <p class="card-text">
                <span class="d-block fs-6 fw-bold text-secondary py-2">
                  Dashboard
                </span>
                <a
                  href="/pages/peer-lending.html"
                  class="d-block text-decoration-none py-2"
                  >Peer lending</a
                >
                <a
                  href="/pages/lending-pool.html"
                  class="d-block text-decoration-none py-2"
                  >Lending pool</a
                >
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="col">
        <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
          <div class="container-fluid">
            <button
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse">
              <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                  <h2>Lending Pool</h2>
                </li>
              </ul>
              <ul class="navbar-nav">
                <li class="nav-item">
                  <button
                    class="text-danger bg-transparent border-0"
                    onclick="logout()"
                  >
                    Logout
                  </button>
                </li>
              </ul>
            </div>
          </div>
        </nav>

        <div class="container-fluid">
          <div class="card mb-5">
            <div class="card-body">
              <h5 class="mb-3">Overview</h5>
              <div class="align-items-center">
                <div class="b">
                  <h4>Total Amount Lent</h4>
                  <p>$120,000</p>
                </div>
                <div class="b">
                  <h4>Total Amount Borrowed</h4>
                  <p>$100,000</p>
                </div>
                <div class="b">
                  <h4>Average Interest Rate</h4>
                  <p>12.44%</p>
                </div>
              </div>
            </div>
          </div>

          <div class="card mb-5">
            <div class="card-body">
              <h5 class="mb-3">All Markets</h5>
              <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th>Market Name</th>
                    <th>Total Lent</th>
                    <th>Deposit Limit</th>
                    <th>Total Borrowed</th>
                    <th>Avg Interest Rate</th>
                  </tr>
                </thead>
                <tbody>
                  <tr onclick="showModal()">
                    <td>Small Medium Enterpise Funding</td>
                    <td>$50,000</td>
                    <td>$3000</td>
                    <td>$48,540</td>
                    <td>6.4%</td>
                  </tr>
                  <tr onclick="showModal()">
                    <td>Technology Related Enterpises</td>
                    <td>$401,070</td>
                    <td>$10,000</td>
                    <td>$347,200</td>
                    <td>15.33%</td>
                  </tr>
                  <tr onclick="showModal()">
                    <td>Healthcare Related Enterpises </td>
                    <td>$211,070</td>
                    <td>$8,000</td>
                    <td>$179,300</td>
                    <td>12.5%</td>
                  </tr>
                  <tr onclick="showModal()">
                    <td>Agriculture Funding</td>
                    <td>$12,200</td>
                    <td>$3,000</td>
                    <td>$7,200</td>
                    <td>7%</td>
                  </tr>
                  <tr onclick="showModal()">
                    <td>Sustainability Funding</td>
                    <td>$70,000</td>
                    <td>$10,000</td>
                    <td>$53,230</td>
                    <td>26%</td>
                  </tr>
                </tbody>
                
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js"
      integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"
      integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/luxon/2.1.1/luxon.min.js"
      integrity="sha512-R3qVfQx4LUWixeZgtptH0NDb+/FB8qVflpPQUKzDQlz1zKE3BiN4wG3aBUwzabgMo/45MXHucjcC2/BWBxMJwQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script>
        function logout() {
            localStorage.removeItem('accessToken')
            window.location = '/pages/login.html'
        }

        async function showModal(){
          console.log('tr clicked')
          const modalResponse = await swal({
          title: 'Market Info',
          content: $(`
              <div class="container text-start">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" id="lend-tab" data-toggle="tab" href="#lend" role="tab" aria-controls="lend" aria-selected="true">Lend</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="borrow-tab" data-toggle="tab" href="#borrow" role="tab" aria-controls="borrow" aria-selected="false">Borrow</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="withdraw-tab" data-toggle="tab" href="#withdraw" role="tab" aria-controls="withdraw" aria-selected="false">Withdraw</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="repay-tab" data-toggle="tab" href="#repay" role="tab" aria-controls="repay" aria-selected="false">Repay</a>
                  </li>
                </ul>

                <div class="tab-content">
                  <div class="tab-pane active" id="lend" role="tabpanel" aria-labelledby="lend-tab">
                    <div class="mb-4">
                      <label class="form-label"></label>
                      <input type="number" class="form-control" id="deposit-amount" placeholder="100" />
                    </div>
                  </div>
                  <div class="tab-pane" id="borrow" role="tabpanel" aria-labelledby="borrow-tab">
                    <div class="mb-4">
                      <label class="form-label"></label>
                      <input type="number" class="form-control" id="borrow-amount" placeholder="100" />
                    </div>
                  </div>
                  <div class="tab-pane" id="withdraw" role="tabpanel" aria-labelledby="withdraw-tab">
                    <div class="mb-4">
                      <label class="form-label"></label>
                      <input type="number" class="form-control" id="withdraw-amount" placeholder="100" />
                    </div>
                  </div>
                  <div class="tab-pane" id="repay" role="tabpanel" aria-labelledby="repay-tab">
                    <div class="mb-4">
                      <label class="form-label"></label>
                      <input type="number" class="form-control" id="repay-amount" placeholder="100" />
                    </div>
                  </div>
                </div>
                
            `).get(0)
      })
        }
       
      $(function () {
        $('#myTab li:last-child a').tab('show')
      })
                
      // $(document).ready(function(){
      //     $("#myTab li:eq(1) a").tab("show"); // show second tab (0-indexed, like an array)
      // });
    </script>
  </body>
</html>
